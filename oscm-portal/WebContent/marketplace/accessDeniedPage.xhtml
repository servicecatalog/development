<!-- Copyright FUJITSU LIMITED 2017-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:c="http://java.sun.com/jsp/jstl/core"
  xmlns:rich="http://richfaces.org/rich" xmlns:a4j="http://richfaces.org/a4j"
  xmlns:mp="http://www.fujitsu.com/global/services/software/interstage/marketplace">
<h:head>
<c:set var="mpBaseUrl" value="#{facesContext.externalContext.requestContextPath}/marketplace" />
<ui:include src="templates/head.xhtml">
  <ui:param name="dirty" value="#{dirty}" />
</ui:include>
</h:head>

<h:body class="body4span">
  <a4j:outputPanel layout="block">
    <c:set var="imgUrl" value="#{facesContext.externalContext.requestContextPath}/marketplace/img" />

    <rich:popupPanel id="accessDeniedPanel" trimOverlayedElements="false" resizeable="false" autosized="true"
      height="100" width="450" onresize="return false;" zindex="10000"
      onshow="AdmUtils.adjustMplModalDialogPosition('accessDeniedPanel');"
      onbeforeshow="AdmUtils.setPageOverflow('hidden');" onhide="AdmUtils.setPageOverflow('auto');">

      <h2>
        <h:outputText value="#{msg['accessDenied.title']}" />
      </h2>
      <mp:pixelline />

      <a4j:outputPanel id="modalErrorPanel" layout="block" styleClass="errorPanel"
        style="display: block; margin-top: -5px; margin-bottom: 10px;"
        rendered="#{(not empty errorKey) or (facesContext.maximumSeverity.ordinal > 0)}">
        <!-- filter error messages -->
        <c:if test="#{not empty errorKey}">
          <dl class="rich-messages box error">
            <dt>
              <h:outputFormat value="#{msg[errorKey]}">
                <f:param value="#{errorParam0}" />
                <f:param value="#{errorParam1}" />
                <f:param value="#{errorParam2}" />
                <f:param value="#{errorParam3}" />
                <f:param value="#{errorParam4}" />
              </h:outputFormat>
            </dt>
          </dl>
        </c:if>
        <!-- JSF error messages -->
        <rich:messages globalOnly="true" passedLabel="" layout="list" id="errorMessages22" styleClass="box error" ajaxRendered="false" />
      </a4j:outputPanel>

      <a4j:outputPanel id="accessDeniedGrid" styleCass="grid2span clearfix" style="width: 560px;">
        <a4j:outputPanel layout="block">
          <br />
          <h:outputText value="#{msg['accessDenied.description']}" styleClass="preWrapping" />
          <h:outputText value="#{msg['accessDenied.description.click']}" styleClass="preWrapping" />
          <h:outputLink id="linkMPHomePage" value="index.jsf?mId=#{appBean.marketplaceId}">
            <h:outputText value="#{msg['accessDenied.description.here']}" />
          </h:outputLink>
          <h:outputText value="#{msg['accessDenied.description.return']}" styleClass="preWrapping" />
          <br />
          <br />
          <br />
        </a4j:outputPanel>
      </a4j:outputPanel>
    </rich:popupPanel>

    <script type="text/javascript">
      #{rich:component('accessDeniedPanel')}.show();
    </script>

  </a4j:outputPanel>

</h:body>
</html>